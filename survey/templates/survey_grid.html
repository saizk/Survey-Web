   
<div class = "survey"  data="{{survey.state.name}}">


    <table class="bigcell">
    
        <tbody>
            <script src="{{ url_for('static', filename='state.js') }}"></script>
            
            
            {% if status_list[survey.id].capitalize() == "New" %}
                <tr>                    
                    {#<!-- <td class="firstcol" href= "{{url_for('views.display_survey',survey_id=survey.id)}}"></td>      <button>Survey {{sur_number}}</button><td>  -->#}
                        
                    <td class="firstcol"> 
                        <a href= "{{url_for('views.display_survey', survey_hash=survey.survey_hash)}}"> Survey {{sur_number}}  </a> 
                    </td>
                    
                    <td class="secondcol" > 
                        
                        
                        <form method="POST" action="/my-surveys">
                            <div class="smallcell">
                                <div class="insidetable-wide">          
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px;"> Title: {{survey.title}} </span>
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px">Number of Answers: {{answer_number[survey.id]}}</span>
                                    <span id = "survey_status{{survey.id}}" name = "survey_state" class="insidetable" style="max-width: 33%; min-width: 150px"> Status: {{status_list[survey.id].capitalize()}}  </span>
                                    
                                </div>
                                
                                <div class="insidetable-wide"style="margin-top: 2%;">          
                                    
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px; cursor:pointer;" onclick= "location.href = '/create-survey';" > Add questions</span>
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px; cursor:pointer;" onclick= "location.href = '/my-surveys/{{survey.survey_hash}}';" >Public Link</span>
                                    
                                    <!-- added changes to html for triple button taken from https://www.cssscript.com/segmented-control-toggle-radio/ -->
                                    <span class="toggle-radio" data-style="rounded">
                                        
                                        <input name = "survey_id" value="{{survey.id}}" hidden>
                                        <input id = "survey{{sur_number}}" name = "survey_status" value="{{survey.state.name.capitalize()}}" hidden>
                                        
                                        <div class="colornew" onclick="state_change('default_Option1{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" > 
                                            <input class= "button_new" type="radio" name="button_row" id="default_Option1{{survey.id}}{{sur_number}}" value="New" >
                                            <label for="default_Option1{{survey.id}}{{sur_number}}">New</label>                    
                                        </div>
                                        
                                        
                                        <div class="coloronline"  onclick="state_change('default_Option2{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input class= "button_online" type="radio" name="button_row" id="default_Option2{{survey.id}}{{sur_number}}" value="Online" >
                                            <label  for="default_Option2{{survey.id}}{{sur_number}}">Online</label>
                                        </div>
                                        
                                        
                                        <div class="colorclosed"  onclick="state_change('default_Option3{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input  class= "button_closed"  type="radio" name="button_row" id="default_Option3{{survey.id}}{{sur_number}}" value="Closed">
                                            <label for="default_Option3{{survey.id}}{{sur_number}}" >Closed</label>
                                        </div>
                                    </span>
                                    
                                    <span>
                                        <button  id="button_stat_change{{survey.id}}{{sur_number}}" style = "display:none" type="submit"  >Save Changes</button>                            
                                    </span>                                
                                </div>
                            </div>       
                        </form>
                    </td>
                </tr>
            

            {% elif status_list[survey.id].capitalize() == "Online" %}
                <tr>                    
                    {#<!-- <td class="firstcol" href= "{{url_for('views.display_survey',survey_id=survey.id)}}"></td>      <button>Survey {{sur_number}}</button><td>  -->#}
                        
                    <td class="firstcol"> 
                        <a href= "{{url_for('views.display_survey', survey_hash=survey.survey_hash)}}"> Survey {{sur_number}}  </a> 
                    </td>
                    
                    <td class="secondcol" > 
                        
                        
                        <form method="POST" action="/my-surveys">
                            <div class="smallcell">
                                <div class="insidetable-wide">          
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px;"> Title: {{survey.title}} </span>
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px">Number of Answers: {{answer_number[survey.id]}}</span>
                                    <span id = "survey_status{{survey.id}}" name = "survey_state" class="insidetable" style="max-width: 33%; min-width: 150px"> Status: {{status_list[survey.id].capitalize()}}  </span>
                                    
                                </div>
                                
                                <div class="insidetable-wide" style="margin-top: 2%; width:100%">          
                                    
                                    <!-- <span class="insidetable" style="max-width: 33%; min-width: 150px; cursor:pointer;" onclick= "location.href = '/create-survey';" > Add questions</span> -->
                                    <div class="insidetable" style="max-width: 33%; min-width: 150px; cursor:pointer;" onclick= "location.href = '/my-surveys/{{survey.survey_hash}}';" >Public Link</div>
                                    
                                    <!-- added changes to html for triple button taken from https://www.cssscript.com/segmented-control-toggle-radio/ -->
                                    <div class="toggle-radio" data-style="rounded">
                                        
                                        <input name = "survey_id" value="{{survey.id}}" hidden>
                                        <input id = "survey{{sur_number}}" name = "survey_status" value="{{survey.state.name.capitalize()}}" hidden>
                                        
                                        <div class="colornew" onclick="state_change('default_Option1{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" > 
                                            <input class= "button_new" type="radio" name="button_row" id="default_Option1{{survey.id}}{{sur_number}}" value="New" >
                                            <label for="default_Option1{{survey.id}}{{sur_number}}">New</label>                    
                                        </div>
                                        
                                        
                                        <div class="coloronline"  onclick="state_change('default_Option2{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input class= "button_online" type="radio" name="button_row" id="default_Option2{{survey.id}}{{sur_number}}" value="Online" >
                                            <label  for="default_Option2{{survey.id}}{{sur_number}}">Online</label>
                                        </div>
                                        
                                        
                                        <div class="colorclosed"  onclick="state_change('default_Option3{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input  class= "button_closed"  type="radio" name="button_row" id="default_Option3{{survey.id}}{{sur_number}}" value="Closed">
                                            <label for="default_Option3{{survey.id}}{{sur_number}}" >Closed</label>
                                        </div>
                                    </div>
                                    
                                    <span>
                                        <button  id="button_stat_change{{survey.id}}{{sur_number}}" style = "display:none" type="submit"  >Save Changes</button>                            
                                    </span>                                
                                </div>
                            </div>       
                        </form>
                    </td>
                </tr>
            

            {% elif status_list[survey.id].capitalize() == "Closed" %}

                <tr>                    
                    {#<!-- <td class="firstcol" href= "{{url_for('views.display_survey',survey_id=survey.id)}}"></td>      <button>Survey {{sur_number}}</button><td>  -->#}
                        
                    <td class="firstcol"> 
                        <a href= "{{url_for('views.display_survey', survey_hash=survey.survey_hash)}}"> Survey {{sur_number}}  </a> 
                    </td>
                    
                    <td class="secondcol" > 
                        
                        
                        <form method="POST" action="/my-surveys">
                            <div class="smallcell">
                                <div class="insidetable-wide">          
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px;"> Title: {{survey.title}} </span>
                                    <span class="insidetable" style="max-width: 33%; min-width: 150px">Number of Answers: {{answer_number[survey.id]}}</span>
                                    <span id = "survey_status{{survey.id}}" name = "survey_state" class="insidetable" style="max-width: 33%; min-width: 150px"> Status: {{status_list[survey.id].capitalize()}}  </span>
                                    
                                </div>
                                
                                <div class="insidetable-wide" style="margin-top: 2%; width:100%">  
                                    
                                    
                                    <!-- <div class="insidetable" style="max-width: 33%; min-width: 150px; cursor:pointer;" onclick= "location.href = '/my-surveys/{{survey.survey_hash}}';" >Public Link</div> -->
                                    
                                    <!-- added changes to html for triple button taken from https://www.cssscript.com/segmented-control-toggle-radio/ -->
                                    <div class="toggle-radio" data-style="rounded">
                                        
                                        <input name = "survey_id" value="{{survey.id}}" hidden>
                                        <input id = "survey{{sur_number}}" name = "survey_status" value="{{survey.state.name.capitalize()}}" hidden>
                                        
                                        <div class="colornew" onclick="state_change('default_Option1{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" > 
                                            <input class= "button_new" type="radio" name="button_row" id="default_Option1{{survey.id}}{{sur_number}}" value="New" >
                                            <label for="default_Option1{{survey.id}}{{sur_number}}">New</label>                    
                                        </div>
                                        
                                        
                                        <div class="coloronline"  onclick="state_change('default_Option2{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input class= "button_online" type="radio" name="button_row" id="default_Option2{{survey.id}}{{sur_number}}" value="Online" >
                                            <label  for="default_Option2{{survey.id}}{{sur_number}}">Online</label>
                                        </div>
                                        
                                        
                                        <div class="colorclosed"  onclick="state_change('default_Option3{{survey.id}}{{sur_number}}', 'survey_status{{survey.id}}', 'button_stat_change{{survey.id}}{{sur_number}}', 'survey{{sur_number}}')" >
                                            <input  class= "button_closed"  type="radio" name="button_row" id="default_Option3{{survey.id}}{{sur_number}}" value="Closed">
                                            <label for="default_Option3{{survey.id}}{{sur_number}}" >Closed</label>
                                        </div>
                                    </div>
                                    
                                    <span>                                        
                                        <button  id="button_stat_change{{survey.id}}{{sur_number}}" style = "display:none" type="submit"  >Save Changes</button>                            
                                    </span>                                
                                </div>
                            </div>       
                        </form>

                        <form method="POST" action="/delete-survey">
                            <div><button class="delete_button" id="button_delete{{survey.id}}{{sur_number}}" style = "display:block, margin-top=10px" type="submit"  >Delete Survey</button></div> 
                        </form>
                    </td>
                </tr>
            

            {% endif %}

        </tbody>
    </table>

</div>
